matrix:
  include:
    # - os: linux
    #   dist: trusty
    #   sudo: required
    - os: osx
      osx_image: xcode10.1
cache:
  directories:
    - $HOME/.cache/pip
    - $HOME/Library/Caches/Homebrew
language: c++
sudo: required
python:
  - 2.7
  - 3.6
# addons:
#   apt:
#     packages:
#       - libhdf5-dev
#       - g++-5
#     sources: &sources
#       - llvm-toolchain-precise-3.8
#       - ubuntu-toolchain-r-test

before_install:
  - if [ $TRAVIS_OS_NAME = linux ]; then sudo apt-get install libhdf5-dev; else brew install hdf5; fi
  - pip install virtualenv
  - virtualenv env && source env/bin/activate
install:
  - pip install --upgrade pip
  - pip install .
script:
  - ./scripts/check-clang-format-all
  - pip install -r tests/requirement_tests.txt
  - nosetests
